<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="IELE Semantics | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../../../assets/img/favicon.ico" />

<title>IELE Semantics | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../../../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../../../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../../../index.html">
    <img
      class="logo-dark"
      srcset="../../../assets/img/iele-logo.png"
      alt="K"
      style="height: 48px"
    />
    Semantic Framework
  </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/runtimeverification/iele-semantics"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../../../downloads"
    >Download</a
  >
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../../../">Homepage</a>
      <a class="bd-toc-link" href="../../../INSTALL">Install</a>
      <a class="bd-toc-link" href="../../../Design">Design</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="markdown-preview"><html><head></head><body><h1>pako - zlib port to javascript, very fast!</h1>
<p><a href="https://travis-ci.org/nodeca/pako" target="_blank" rel="noopener"><img src="https://travis-ci.org/nodeca/pako.svg?branch=master" alt="Build Status"></a>
<a href="https://www.npmjs.org/package/pako" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/pako.svg" alt="NPM version"></a></p>
<p><strong>Why pako is cool:</strong></p>
<ul>
<li>Almost as fast in modern JS engines as C implementation (see benchmarks).</li>
<li>Works in browsers, you can browserify any separate component.</li>
<li>Chunking support for big blobs.</li>
<li>Results are binary equal to well known <a href="http://www.zlib.net/" target="_blank" rel="noopener">zlib</a> (now v1.2.8 ported).</li>
</ul>
<p>This project was done to understand how fast JS can be and is it necessary to
develop native C modules for CPU-intensive tasks. Enjoy the result!</p>
<p><strong>Famous projects, using pako:</strong></p>
<ul>
<li><a href="http://browserify.org/" target="_blank" rel="noopener">browserify</a> (via <a href="https://github.com/devongovett/browserify-zlib" target="_blank" rel="noopener">browserify-zlib</a>)</li>
<li><a href="http://stuk.github.io/jszip/" target="_blank" rel="noopener">JSZip</a></li>
<li><a href="https://github.com/nodeca/mincer" target="_blank" rel="noopener">mincer</a></li>
<li><a href="https://github.com/creationix/js-git" target="_blank" rel="noopener">JS-Git</a> and
<a href="https://chrome.google.com/webstore/detail/tedit-development-environ/ooekdijbnbbjdfjocaiflnjgoohnblgf" target="_blank" rel="noopener">Tedit</a>
by <a href="https://github.com/creationix" target="_blank" rel="noopener">@creatronix</a></li>
</ul>
<p><strong>Benchmarks:</strong></p>
<pre class="hljs"><code>node v0.10.26, 1mb sample:

   deflate-dankogai x 4.73 ops/sec &#xB1;0.82% (15 runs sampled)
   deflate-gildas x 4.58 ops/sec &#xB1;2.33% (15 runs sampled)
   deflate-imaya x 3.22 ops/sec &#xB1;3.95% (12 runs sampled)
 ! deflate-pako x 6.99 ops/sec &#xB1;0.51% (21 runs sampled)
   deflate-pako-string x 5.89 ops/sec &#xB1;0.77% (18 runs sampled)
   deflate-pako-untyped x 4.39 ops/sec &#xB1;1.58% (14 runs sampled)
 * deflate-zlib x 14.71 ops/sec &#xB1;4.23% (59 runs sampled)
   inflate-dankogai x 32.16 ops/sec &#xB1;0.13% (56 runs sampled)
   inflate-imaya x 30.35 ops/sec &#xB1;0.92% (53 runs sampled)
 ! inflate-pako x 69.89 ops/sec &#xB1;1.46% (71 runs sampled)
   inflate-pako-string x 19.22 ops/sec &#xB1;1.86% (49 runs sampled)
   inflate-pako-untyped x 17.19 ops/sec &#xB1;0.85% (32 runs sampled)
 * inflate-zlib x 70.03 ops/sec &#xB1;1.64% (81 runs sampled)

node v0.11.12, 1mb sample:

   deflate-dankogai x 5.60 ops/sec &#xB1;0.49% (17 runs sampled)
   deflate-gildas x 5.06 ops/sec &#xB1;6.00% (16 runs sampled)
   deflate-imaya x 3.52 ops/sec &#xB1;3.71% (13 runs sampled)
 ! deflate-pako x 11.52 ops/sec &#xB1;0.22% (32 runs sampled)
   deflate-pako-string x 9.53 ops/sec &#xB1;1.12% (27 runs sampled)
   deflate-pako-untyped x 5.44 ops/sec &#xB1;0.72% (17 runs sampled)
 * deflate-zlib x 14.05 ops/sec &#xB1;3.34% (63 runs sampled)
   inflate-dankogai x 42.19 ops/sec &#xB1;0.09% (56 runs sampled)
   inflate-imaya x 79.68 ops/sec &#xB1;1.07% (68 runs sampled)
 ! inflate-pako x 97.52 ops/sec &#xB1;0.83% (80 runs sampled)
   inflate-pako-string x 45.19 ops/sec &#xB1;1.69% (57 runs sampled)
   inflate-pako-untyped x 24.35 ops/sec &#xB1;2.59% (40 runs sampled)
 * inflate-zlib x 60.32 ops/sec &#xB1;1.36% (69 runs sampled)
</code></pre>
<p>zlib&apos;s test is partialy afferted by marshling (that make sense for inflate only).
You can change deflate level to 0 in benchmark source, to investigate details.
For deflate level 6 results can be considered as correct.</p>
<p><strong>Install:</strong></p>
<p>node.js:</p>
<pre class="hljs"><code>npm install pako
</code></pre>
<p>browser:</p>
<pre class="hljs"><code>bower install pako
</code></pre>
<h2>Example &amp; API</h2>
<p>Full docs - <a href="http://nodeca.github.io/pako/" target="_blank" rel="noopener">http://nodeca.github.io/pako/</a></p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> pako = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;pako&apos;</span>);

<span class="hljs-comment">// Deflate</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> input = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>();
<span class="hljs-comment">//... fill input data here</span>
<span class="hljs-keyword">var</span> output = pako.deflate(input);

<span class="hljs-comment">// Inflate (simple wrapper can throw exception on broken stream)</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> compressed = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>();
<span class="hljs-comment">//... fill data to uncompress here</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">var</span> result = pako.inflate(compressed);
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-built_in">console</span>.log(err);
}

<span class="hljs-comment">//</span>
<span class="hljs-comment">// Alternate interface for chunking &amp; without exceptions</span>
<span class="hljs-comment">//</span>

<span class="hljs-keyword">var</span> inflator = <span class="hljs-keyword">new</span> pako.Inflate();

inflator.push(chunk1, <span class="hljs-literal">false</span>);
inflator.push(chunk2, <span class="hljs-literal">false</span>);
...
inflator.push(chunkN, <span class="hljs-literal">true</span>); <span class="hljs-comment">// true -&gt; last chunk</span>

<span class="hljs-keyword">if</span> (inflator.err) {
  <span class="hljs-built_in">console</span>.log(inflator.msg);
}

<span class="hljs-keyword">var</span> output = inflator.result;

</code></pre>
<p>Sometime you can wish to work with strings. For example, to send
big objects as json to server. Pako detects input data type. You can
force output to be string with option <code>{ to: &apos;string&apos; }</code>.</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> pako = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;pako&apos;</span>);

<span class="hljs-keyword">var</span> test = { <span class="hljs-attr">my</span>: <span class="hljs-string">&apos;super&apos;</span>, <span class="hljs-attr">puper</span>: [<span class="hljs-number">456</span>, <span class="hljs-number">567</span>], <span class="hljs-attr">awesome</span>: <span class="hljs-string">&apos;pako&apos;</span> };

<span class="hljs-keyword">var</span> binaryString = pako.deflate(<span class="hljs-built_in">JSON</span>.stringify(test), { <span class="hljs-attr">to</span>: <span class="hljs-string">&apos;string&apos;</span> });

<span class="hljs-comment">//</span>
<span class="hljs-comment">// Here you can do base64 encode, make xhr requests and so on.</span>
<span class="hljs-comment">//</span>

<span class="hljs-keyword">var</span> restored = <span class="hljs-built_in">JSON</span>.parse(pako.inflate(binaryString, { <span class="hljs-attr">to</span>: <span class="hljs-string">&apos;string&apos;</span> }));
</code></pre>
<h2>Notes</h2>
<p>Pako does not contain some specific zlib functions:</p>
<ul>
<li><strong>deflate</strong> -  methods <code>deflateCopy</code>, <code>deflateBound</code>, <code>deflateParams</code>,
<code>deflatePending</code>, <code>deflatePrime</code>, <code>deflateTune</code>.</li>
<li><strong>inflate</strong> - methods <code>inflateCopy</code>, <code>inflateMark</code>,
<code>inflatePrime</code>, <code>inflateGetDictionary</code>, <code>inflateSync</code>, <code>inflateSyncPoint</code>, <code>inflateUndermine</code>.</li>
<li>High level inflate/deflate wrappers (classes) may not support some flush
modes. Those should work: Z_NO_FLUSH, Z_FINISH, Z_SYNC_FLUSH.</li>
</ul>
<h2>Authors</h2>
<ul>
<li>Andrey Tupitsin <a href="https://github.com/andr83" target="_blank" rel="noopener">@anrd83</a></li>
<li>Vitaly Puzrin <a href="https://github.com/puzrin" target="_blank" rel="noopener">@puzrin</a></li>
</ul>
<p>Personal thanks to:</p>
<ul>
<li>Vyacheslav Egorov (<a href="https://github.com/mraleph" target="_blank" rel="noopener">@mraleph</a>) for his awesome
tutorials about optimising JS code for v8, <a href="http://mrale.ph/irhydra/" target="_blank" rel="noopener">IRHydra</a>
tool and his advices.</li>
<li>David Duponchel (<a href="https://github.com/dduponchel" target="_blank" rel="noopener">@dduponchel</a>) for help with
testing.</li>
</ul>
<h2>License</h2>
<p>MIT</p>
</body></html></div>
        </main>
      </div>
    </div>
<footer class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-2 mb-md-0 mb-4">
        <span class="pr-md-5 pr-0 py-3">
          <a href="https://runtimeverification.com" target="_blank">
            <picture>
              <source
                srcset="../../../assets/img/rv-logo-dark.png"
                media="(prefers-color-scheme: dark)"
              />
              <img
                class="pr-3 footer-logo"
                src="../../../assets/img/rv-logo.png"
                alt="Runtime Verification Inc logo"
              />
            </picture>
          </a>
        </span>
      </div>
      <div class="col-md-6 mb-md-0 mb-4"></div>
      <div class="col-md-4 text-md-right">
        <p class="copyright">
          &copy; 2020 Runtime Verification Inc. All right reserved.
        </p>
      </div>
    </div>
  </div>
</footer>

<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-163311512-1"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-163311512-1");
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../../../assets/js/index.js"></script>
  </body>
</html>
