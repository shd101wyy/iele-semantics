<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="IELE Semantics | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../../../../../assets/img/favicon.ico" />

<title>IELE Semantics | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../../../../../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../../../../../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../../../../../index.html">
    <img
      class="logo-dark"
      srcset="../../../../../assets/img/iele-logo.png"
      alt="K"
      style="height: 48px"
    />
    Semantic Framework
  </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/runtimeverification/iele-semantics"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../../../../../downloads"
    >Download</a
  >
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../../../../../">Homepage</a>
      <a class="bd-toc-link" href="../../../../../INSTALL">Install</a>
      <a class="bd-toc-link" href="../../../../../Design">Design</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="markdown-preview"><html><head></head><body><h1>Object Reference</h1>
<p><code>Napi::ObjectReference</code> is a subclass of <a href="reference/"><code>Napi::Reference</code></a>, and is equivalent to an instance of <code>Napi::Reference&lt;Object&gt;</code>. This means that a <code>Napi::ObjectReference</code> holds a <a href="object/"><code>Napi::Object</code></a>, and a count of the number of references to that Object. When the count is greater than 0, an ObjectReference is not eligible for garbage collection. This ensures that the Object being held as a value of the ObjectReference will remain accessible, even if the original Object no longer is. However, ObjectReference is unique from a Reference since properties can be set and get to the Object itself that can be accessed through the ObjectReference.</p>
<p>For more general information on references, please consult <a href="reference/"><code>Napi::Reference</code></a>.</p>
<h2>Example</h2>
<pre class="hljs"><code><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;napi.h&gt;</span></span>

<span class="hljs-keyword">using</span> namescape Napi;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Init</span><span class="hljs-params">(Env env)</span> </span>{

    <span class="hljs-comment">// Create an empty ObjectReference that has an initial reference count of 2.</span>
    ObjectReference obj_ref = Reference&lt;Object&gt;::New(Object::New(env), <span class="hljs-number">2</span>);

    <span class="hljs-comment">// Set a couple of different properties on the reference.</span>
    obj_ref.Set(<span class="hljs-string">&quot;hello&quot;</span>, String::New(env, <span class="hljs-string">&quot;world&quot;</span>));
    obj_ref.Set(<span class="hljs-number">42</span>, <span class="hljs-string">&quot;The Answer to Life, the Universe, and Everything&quot;</span>);

    <span class="hljs-comment">// Get the properties using the keys.</span>
    Value val1 = obj_ref.Get(<span class="hljs-string">&quot;hello&quot;</span>);
    Value val2 = obj_ref.Get(<span class="hljs-number">42</span>);
}
</code></pre>
<h2>Methods</h2>
<h3>Initialization</h3>
<pre class="hljs"><code><span class="hljs-keyword">static</span> Napi::ObjectReference Napi::ObjectReference::New(<span class="hljs-keyword">const</span> Napi::Object&amp; value, <span class="hljs-keyword">uint32_t</span> initialRefcount = <span class="hljs-number">0</span>);
</code></pre>
<ul>
<li>
<p><code>[in] value</code>: The <code>Napi::Object</code> which is to be referenced.</p>
</li>
<li>
<p><code>[in] initialRefcount</code>: The initial reference count.</p>
</li>
</ul>
<p>Returns the newly created reference.</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">static</span> Napi::ObjectReference <span class="hljs-title">Napi::Weak</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Napi::Object&amp; value)</span></span>;
</code></pre>
<p>Creates a &quot;weak&quot; reference to the value, in that the initial count of number of references is set to 0.</p>
<ul>
<li><code>[in] value</code>: The value which is to be referenced.</li>
</ul>
<p>Returns the newly created reference.</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">static</span> Napi::ObjectReference <span class="hljs-title">Napi::Persistent</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Napi::Object&amp; value)</span></span>;
</code></pre>
<p>Creates a &quot;persistent&quot; reference to the value, in that the initial count of number of references is set to 1.</p>
<ul>
<li><code>[in] value</code>: The value which is to be referenced.</li>
</ul>
<p>Returns the newly created reference.</p>
<h3>Empty Constructor</h3>
<pre class="hljs"><code>Napi::ObjectReference::ObjectReference();
</code></pre>
<p>Returns a new <em>empty</em> <code>Napi::ObjectReference</code> instance.</p>
<h3>Constructor</h3>
<pre class="hljs"><code>Napi::ObjectReference::ObjectReference(napi_env env, napi_value value);
</code></pre>
<ul>
<li>
<p><code>[in] env</code>: The <code>napi_env</code> environment in which to construct the <code>Napi::ObjectReference</code> object.</p>
</li>
<li>
<p><code>[in] value</code>: The N-API primitive value to be held by the <code>Napi::ObjectReference</code>.</p>
</li>
</ul>
<p>Returns the newly created reference.</p>
<h3>Set</h3>
<pre class="hljs"><code><span class="hljs-keyword">void</span> Napi::ObjectReference::Set(___ key, ___ value);
</code></pre>
<ul>
<li>
<p><code>[in] key</code>: The name for the property being assigned.</p>
</li>
<li>
<p><code>[in] value</code>: The value being assigned to the property.</p>
</li>
</ul>
<p>The <code>key</code> can be any of the following types:</p>
<ul>
<li><code>const char*</code></li>
<li><code>const std::string</code></li>
<li><code>uint32_t</code></li>
</ul>
<p>The <code>value</code> can be any of the following types:</p>
<ul>
<li><code>napi_value</code></li>
<li><code>Napi::Value</code></li>
<li><code>const char*</code></li>
<li><code>bool</code></li>
<li><code>double</code></li>
</ul>
<h3>Get</h3>
<pre class="hljs"><code>Napi::Value Napi::ObjectReference::Get(___ key);
</code></pre>
<ul>
<li><code>[in] key</code>: The name of the property to return the value for.</li>
</ul>
<p>Returns the <a href="value/"><code>Napi::Value</code></a> associated with the key property. Returns NULL if no such key exists.</p>
<p>The <code>key</code> can be any of the following types:</p>
<ul>
<li><code>const char*</code></li>
<li><code>const std::string</code></li>
<li><code>uint32_t</code></li>
</ul>
</body></html></div>
        </main>
      </div>
    </div>
<footer class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-2 mb-md-0 mb-4">
        <span class="pr-md-5 pr-0 py-3">
          <a href="https://runtimeverification.com" target="_blank">
            <picture>
              <source
                srcset="../../../../../assets/img/rv-logo-dark.png"
                media="(prefers-color-scheme: dark)"
              />
              <img
                class="pr-3 footer-logo"
                src="../../../../../assets/img/rv-logo.png"
                alt="Runtime Verification Inc logo"
              />
            </picture>
          </a>
        </span>
      </div>
      <div class="col-md-6 mb-md-0 mb-4"></div>
      <div class="col-md-4 text-md-right">
        <p class="copyright">
          &copy; 2020 Runtime Verification Inc. All right reserved.
        </p>
      </div>
    </div>
  </div>
</footer>

<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-163311512-1"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-163311512-1");
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../../../../../assets/js/index.js"></script>
  </body>
</html>
