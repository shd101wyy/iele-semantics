<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="IELE Semantics | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../../../assets/img/favicon.ico" />

<title>IELE Semantics | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../../../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../../../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../../../index.html">
    <img
      class="logo-dark"
      srcset="../../../assets/img/iele-logo.png"
      alt="K"
      style="height: 48px"
    />
    Semantic Framework
  </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/runtimeverification/iele-semantics"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../../../downloads"
    >Download</a
  >
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../../../">Homepage</a>
      <a class="bd-toc-link" href="../../../INSTALL">Install</a>
      <a class="bd-toc-link" href="../../../Design">Design</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="markdown-preview"><html><head></head><body><h1>Ecstatic <a href="http://travis-ci.org/jfhbrook/node-ecstatic" target="_blank" rel="noopener"><img src="https://secure.travis-ci.org/jfhbrook/node-ecstatic.png" alt="build status"></a> <a href="https://codecov.io/github/jfhbrook/node-ecstatic?branch=master" target="_blank" rel="noopener"><img src="https://codecov.io/github/jfhbrook/node-ecstatic/coverage.svg?branch=master" alt="codecov.io"></a></h1>
<p><img src="http://imgur.com/vhub5.png" alt></p>
<p>A simple static file server middleware. Use it with a raw http server,
express/connect or on the CLI!</p>
<h1>Examples:</h1>
<h2>express 4.x</h2>
<pre class="hljs"><code><span class="hljs-meta">&apos;use strict&apos;</span>;

<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;express&apos;</span>);
<span class="hljs-keyword">const</span> ecstatic = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../lib/ecstatic&apos;</span>);
<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;http&apos;</span>);

<span class="hljs-keyword">const</span> app = express();

app.use(ecstatic({
  <span class="hljs-attr">root</span>: <span class="hljs-string">`<span class="hljs-subst">${__dirname}</span>/public`</span>,
  <span class="hljs-attr">showdir</span>: <span class="hljs-literal">true</span>,
}));

http.createServer(app).listen(<span class="hljs-number">8080</span>);

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Listening on :8080&apos;</span>);
</code></pre>
<h2>stock http server</h2>
<pre class="hljs"><code><span class="hljs-meta">&apos;use strict&apos;</span>;

<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;http&apos;</span>);

<span class="hljs-keyword">const</span> ecstatic = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../lib/ecstatic&apos;</span>)({
  <span class="hljs-attr">root</span>: <span class="hljs-string">`<span class="hljs-subst">${__dirname}</span>/public`</span>,
  <span class="hljs-attr">showDir</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">autoIndex</span>: <span class="hljs-literal">true</span>,
});

http.createServer(ecstatic).listen(<span class="hljs-number">8080</span>);

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Listening on :8080&apos;</span>);
</code></pre>
<h3>fall through</h3>
<p>To allow fall through to your custom routes:</p>
<pre class="hljs"><code>ecstatic({ <span class="hljs-attr">root</span>: __dirname + <span class="hljs-string">&apos;/public&apos;</span>, <span class="hljs-attr">handleError</span>: <span class="hljs-literal">false</span> })
</code></pre>
<h2>CLI</h2>
<pre class="hljs"><code>ecstatic ./public --port 8080
</code></pre>
<h1>Install:</h1>
<p>For using ecstatic as a library, just npm install it into your project:</p>
<pre class="hljs"><code>npm install --save ecstatic
</code></pre>
<p>For using ecstatic as a cli tool, either npm install it globally:</p>
<pre class="hljs"><code>npm install ecstatic -g
</code></pre>
<p>or install it locally and use npm runscripts to add it to your $PATH, or
reference it directly with <code>./node_modules/.bin/ecstatic</code>.</p>
<h1>API:</h1>
<h2>ecstatic(opts);</h2>
<h2>$ ecstatic [dir?] {options} --port PORT</h2>
<p>In node, pass ecstatic an options hash, and it will return your middleware!</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> opts = {
  <span class="hljs-attr">root</span>: path.join(__dirname, <span class="hljs-string">&apos;public&apos;</span>),
  <span class="hljs-attr">baseDir</span>: <span class="hljs-string">&apos;/&apos;</span>,
  <span class="hljs-attr">autoIndex</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">showDir</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">showDotfiles</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">humanReadable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">hidePermissions</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">si</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">cache</span>: <span class="hljs-string">&apos;max-age=3600&apos;</span>,
  <span class="hljs-attr">cors</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">gzip</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">brotli</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">defaultExt</span>: <span class="hljs-string">&apos;html&apos;</span>,
  <span class="hljs-attr">handleError</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">serverHeader</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">contentType</span>: <span class="hljs-string">&apos;application/octet-stream&apos;</span>,
  <span class="hljs-attr">weakEtags</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">weakCompare</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">handleOptionsMethod</span>: <span class="hljs-literal">false</span>,
}
</code></pre>
<p>If <code>opts</code> is a string, the string is assigned to the root folder and all other
options are set to their defaults.</p>
<p>When running in CLI mode, all options work as above, passed in
<a href="https://github.com/substack/node-optimist" target="_blank" rel="noopener">optimist</a> style. <code>port</code> defaults to
<code>8000</code>. If a <code>dir</code> or <code>--root dir</code> argument is not passed, ecsatic will
serve the current dir. Ecstatic also respects the PORT environment variable.</p>
<h3><code>opts.root</code></h3>
<h3><code>--root {root}</code></h3>
<p><code>opts.root</code> is the directory you want to serve up.</p>
<h3><code>opts.port</code></h3>
<h3><code>--port {port}</code></h3>
<p>In CLI mode, <code>opts.port</code> is the port you want ecstatic to listen to. Defaults
to 8000. This can be overridden with the <code>--port</code> flag or with the PORT
environment variable.</p>
<h3><code>opts.baseDir</code></h3>
<h3><code>--baseDir {dir}</code></h3>
<p><code>opts.baseDir</code> is <code>/</code> by default, but can be changed to allow your static files
to be served off a specific route. For example, if <code>opts.baseDir === &quot;blog&quot;</code>
and <code>opts.root = &quot;./public&quot;</code>, requests for <code>localhost:8080/blog/index.html</code> will
resolve to <code>./public/index.html</code>.</p>
<h3><code>opts.cache</code></h3>
<h3><code>--cache {value}</code></h3>
<p>Customize cache control with <code>opts.cache</code> , if it is a number then it will set max-age in seconds.
Other wise it will pass through directly to cache-control. Time defaults to 3600 s (ie, 1 hour).</p>
<p>If it is a function, it will be executed on every request, and passed the pathname.  Whatever it returns, string or number, will be used as the cache control header like above.</p>
<h3><code>opts.showDir</code></h3>
<h3><code>--no-showDir</code></h3>
<p>Turn <strong>off</strong> directory listings with <code>opts.showDir === false</code>. Defaults to <strong>true</strong>.</p>
<h3><code>opts.showDotfiles</code></h3>
<h3><code>--no-showDotfiles</code></h3>
<p>Exclude dotfiles from directory listings with <code>opts.showDotfiles === false</code>. Defaults to <strong>true</strong>.</p>
<h3><code>opts.humanReadable</code></h3>
<h3><code>--no-human-readable</code></h3>
<p>If showDir is enabled, add human-readable file sizes. Defaults to <strong>true</strong>.
Aliases are <code>humanreadable</code> and <code>human-readable</code>.</p>
<h3><code>opts.hidePermissions</code></h3>
<h3><code>--hide-permissions</code></h3>
<p>If hidePermissions is enabled, file permissions will not be displayed. Defaults to <strong>false</strong>.
Aliases are <code>hidepermissions</code> and <code>hide-permissions</code>.</p>
<h3><code>opts.headers</code></h3>
<h3><code>--H {HeaderA: valA} [--H {HeaderB: valB}]</code></h3>
<p>Set headers on every response. <code>opts.headers</code> can be an object mapping string
header names to string header values, a colon (:) separated string, or an array
of colon separated strings.</p>
<p><code>opts.H</code> and <code>opts.header</code> are aliased to <code>opts.headers</code> so that you can use
<code>-H</code> and <code>--header</code> options to set headers on the command-line like curl:</p>
<pre class="hljs"><code>$ ecstatic ./public -p 5000 -H <span class="hljs-string">&apos;Access-Control-Allow-Origin: *&apos;</span>
</code></pre>
<h3><code>opts.si</code></h3>
<h3><code>--si</code></h3>
<p>If showDir and humanReadable are enabled, print file sizes with base 1000 instead
of base 1024. Name is inferred from cli options for <code>ls</code>. Aliased to <code>index</code>, the
equivalent option in Apache.</p>
<h3><code>opts.autoIndex</code></h3>
<h3><code>--no-autoindex</code></h3>
<p>Serve <code>/path/index.html</code> when <code>/path/</code> is requested.
Turn <strong>off</strong> autoIndexing with <code>opts.autoIndex === false</code>. Defaults to <strong>true</strong>.</p>
<h3><code>opts.defaultExt</code></h3>
<h3><code>--defaultExt {ext}</code></h3>
<p>Turn on default file extensions with <code>opts.defaultExt</code>. If <code>opts.defaultExt</code> is
true, it will default to <code>html</code>. For example if you want a request to <code>/a-file</code>
to resolve to <code>./public/a-file.html</code>, set this to <code>true</code>. If you want
<code>/a-file</code> to resolve to <code>./public/a-file.json</code> instead, set <code>opts.defaultExt</code> to
<code>json</code>.</p>
<h3><code>opts.gzip</code></h3>
<h3><code>--no-gzip</code></h3>
<p>By default, ecstatic will serve <code>./public/some-file.js.gz</code> in place of
<code>./public/some-file.js</code> when the gzipped version exists and ecstatic determines
that the behavior is appropriate. If <code>./public/some-file.js.gz</code> is not valid
gzip, this will fall back to <code>./public/some-file.js</code>. You can turn this off
with <code>opts.gzip === false</code>.</p>
<h3><code>opts.brotli</code></h3>
<h3><code>--brotli</code></h3>
<p>Serve <code>./public/some-file.js.br</code> in place of <code>./public/some-file.js</code> when the
<a href="https://github.com/google/brotli" target="_blank" rel="noopener">brotli encoded</a> version exists and ecstatic
determines that the behavior is appropriate. If the request does not contain
<code>br</code> in the HTTP <code>accept-encoding</code> header, ecstatic will instead attempt to
serve a gzipped version (if <code>opts.gzip</code> is <code>true</code>), or fall back to
<code>./public.some-file.js</code>. Defaults to <strong>false</strong>.</p>
<h3><code>opts.serverHeader</code></h3>
<h3><code>--no-server-header</code></h3>
<p>Set <code>opts.serverHeader</code> to false in order to turn off setting the <code>Server</code>
header on all responses served by ecstatic.</p>
<h3><code>opts.contentType</code></h3>
<h3><code>--content-type {type}</code></h3>
<p>Set <code>opts.contentType</code> in order to change default Content-Type header value.
Defaults to <strong>application/octet-stream</strong>.</p>
<h3><code>opts.mimeTypes</code></h3>
<h3><code>--mime-types {filename}</code></h3>
<p>Add new or override one or more mime-types. This affects the HTTP Content-Type
header. Can either be a path to a
<a href="http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types" target="_blank" rel="noopener"><code>.types</code></a>
file or an object hash of type(s).</p>
<pre><code>ecstatic({ mimeTypes: { &apos;mime-type&apos;: [&apos;file_extension&apos;, &apos;file_extension&apos;] } })
</code></pre>
<h3><code>opts.handleError</code></h3>
<p>Turn <strong>off</strong> handleErrors to allow fall-through with
<code>opts.handleError === false</code>, Defaults to <strong>true</strong>.</p>
<h3><code>opts.weakEtags</code></h3>
<h3><code>--no-weak-etags</code></h3>
<p>Set <code>opts.weakEtags</code> to false in order to generate strong etags instead of
weak etags. Defaults to <strong>true</strong>. See <code>opts.weakCompare</code> as well.</p>
<h3><code>opts.weakCompare</code></h3>
<h3><code>--no-weak-compare</code></h3>
<p>Turn off weakCompare to disable the weak comparison function for etag
validation. Defaults to <strong>true</strong>. See
<a href="https://www.ietf.org/rfc/rfc2616.txt" target="_blank" rel="noopener">https://www.ietf.org/rfc/rfc2616.txt</a> Section 13.3.3 for more details.</p>
<h3><code>opts.handleOptionsMethod</code></h3>
<h3><code>--handle-options-method</code></h3>
<p>Set handleOptionsMethod to true in order to respond to &apos;OPTIONS&apos; calls with any standard/set headers. Defaults to <strong>false</strong>. Useful for hacking up CORS support.</p>
<h3><code>opts.cors</code></h3>
<h3><code>--cors</code></h3>
<p>This is a <strong>convenience</strong> setting which turns on <code>handleOptionsMethod</code> and sets the headers <strong>Access-Control-Allow-Origin: *</strong> and <strong>Access-Control-Allow-Headers: Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since</strong>. This <em>should</em> be enough to quickly make cross-origin resource sharing work between development APIs. More advanced usage can come either from overriding these headers with the headers argument, or by using the <code>handleOptionsMethod</code> flag and then setting headers &quot;manually.&quot; Alternately, just do it in your app using separate middlewares/abstractions.</p>
<p>Defaults to <strong>false</strong>.</p>
<h2>middleware(req, res, next);</h2>
<p>This works more or less as you&apos;d expect.</p>
<h3>ecstatic.showDir(folder);</h3>
<p>This returns another middleware which will attempt to show a directory view. Turning on auto-indexing is roughly equivalent to adding this middleware after an ecstatic middleware with autoindexing disabled.</p>
<h1>Tests:</h1>
<p>Ecstatic has a fairly extensive test suite. You can run it with:</p>
<pre class="hljs"><code>$ npm <span class="hljs-built_in">test</span>
</code></pre>
<h1>Contribute:</h1>
<p>Without outside contributions, ecstatic would wither and die! Before
contributing, take a quick look at the contributing guidelines in
<a href="./CONTRIBUTING/">./CONTRIBUTING.md</a> . They&apos;re relatively painless, I promise.</p>
<h1>License:</h1>
<p>MIT. See LICENSE.txt. For contributors, see <a href="http://CONTRIBUTORS.md" target="_blank" rel="noopener">CONTRIBUTORS.md</a></p>
</body></html></div>
        </main>
      </div>
    </div>
<footer class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-2 mb-md-0 mb-4">
        <span class="pr-md-5 pr-0 py-3">
          <a href="https://runtimeverification.com" target="_blank">
            <picture>
              <source
                srcset="../../../assets/img/rv-logo-dark.png"
                media="(prefers-color-scheme: dark)"
              />
              <img
                class="pr-3 footer-logo"
                src="../../../assets/img/rv-logo.png"
                alt="Runtime Verification Inc logo"
              />
            </picture>
          </a>
        </span>
      </div>
      <div class="col-md-6 mb-md-0 mb-4"></div>
      <div class="col-md-4 text-md-right">
        <p class="copyright">
          &copy; 2020 Runtime Verification Inc. All right reserved.
        </p>
      </div>
    </div>
  </div>
</footer>

<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-163311512-1"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-163311512-1");
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../../../assets/js/index.js"></script>
  </body>
</html>
