<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="IELE Semantics | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../../../../assets/img/favicon.ico" />

<title>IELE Semantics | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../../../../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../../../../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../../../../index.html">
    <img
      class="logo-dark"
      srcset="../../../../assets/img/iele-logo.png"
      alt="K"
      style="height: 48px"
    />
    Semantic Framework
  </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/runtimeverification/iele-semantics"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../../../../downloads"
    >Download</a
  >
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../../../../">Homepage</a>
      <a class="bd-toc-link" href="../../../../INSTALL">Install</a>
      <a class="bd-toc-link" href="../../../../Design">Design</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="markdown-preview"><html><head></head><body><h1>magic-string changelog</h1>
<h2>0.22.5</h2>
<ul>
<li>Add TypeScript interfaces used by rollup (<a href="https://github.com/Rich-Harris/magic-string/pull/131" target="_blank" rel="noopener">#131</a>)</li>
<li>Remove src directory from npm package</li>
</ul>
<h2>0.22.4</h2>
<ul>
<li><code>contentOnly</code> and <code>storeName</code> are both optional</li>
</ul>
<h2>0.22.3</h2>
<ul>
<li>Add <code>original</code> to TS definitions</li>
</ul>
<h2>0.22.2</h2>
<ul>
<li>Avoid <code>declare module</code> (<a href="https://github.com/Rich-Harris/magic-string/pull/127" target="_blank" rel="noopener">#127</a>)</li>
</ul>
<h2>0.22.1</h2>
<ul>
<li>Update TypeScript definitions (<a href="https://github.com/Rich-Harris/magic-string/pull/124" target="_blank" rel="noopener">#124</a>)</li>
</ul>
<h2>0.22.0</h2>
<ul>
<li>Prevent <code>overwrite</code> state corruption (<a href="https://github.com/Rich-Harris/magic-string/issues/115" target="_blank" rel="noopener">#115</a>)</li>
<li>Various bugfixes (<a href="https://github.com/Rich-Harris/magic-string/pull/126" target="_blank" rel="noopener">#126</a>)</li>
</ul>
<h2>0.21.3</h2>
<ul>
<li>Clone <code>indentExclusionRanges</code> correctly (<a href="https://github.com/Rich-Harris/magic-string/pull/122" target="_blank" rel="noopener">#122</a>)</li>
<li>Fix more typings (<a href="https://github.com/Rich-Harris/magic-string/pull/122" target="_blank" rel="noopener">#122</a>)</li>
</ul>
<h2>0.21.2</h2>
<ul>
<li>Add <code>default</code> property referencing self in index-legacy.js, to work around TypeScript bug (<a href="https://github.com/Rich-Harris/magic-string/pull/121" target="_blank" rel="noopener">#121</a>)</li>
</ul>
<h2>0.21.1</h2>
<ul>
<li>Add typings file to package</li>
</ul>
<h2>0.21.0</h2>
<ul>
<li>Add TypeScript bindings (<a href="https://github.com/Rich-Harris/magic-string/pull/119" target="_blank" rel="noopener">#119</a>)</li>
</ul>
<h2>0.20.0</h2>
<ul>
<li>The fourth argument to <code>overwrite</code> is a <code>{storeName, contentOnly}</code> options object. <code>storeName: true</code> is equivalent to <code>true</code> before. <code>contentOnly</code> will preserve existing appends/prepends to the chunk in question</li>
</ul>
<h2>0.19.1</h2>
<ul>
<li>Prevent overwrites across a split point (i.e. following a <code>move</code>)</li>
<li>Implement <code>remove</code> separately to <code>overwrite</code></li>
</ul>
<h2>0.19.0</h2>
<ul>
<li>More accurate bundle sourcemaps (<a href="https://github.com/Rich-Harris/magic-string/pull/114" target="_blank" rel="noopener">#114</a>)</li>
</ul>
<h2>0.18.0</h2>
<ul>
<li>Optimisation &#x2013; remove empty chunks following <code>overwrite</code> or <code>remove</code> (<a href="https://github.com/Rich-Harris/magic-string/pull/113" target="_blank" rel="noopener">#113</a>)</li>
</ul>
<h2>0.17.0</h2>
<ul>
<li>Add <code>appendLeft</code>, <code>appendRight</code>, <code>prependLeft</code>, <code>prependRight</code> methods (<a href="https://github.com/Rich-Harris/magic-string/issues/109" target="_blank" rel="noopener">#109</a>)</li>
<li><code>insertLeft</code> and <code>insertRight</code> are deprecated in favour of <code>appendLeft</code> and <code>prependRight</code> respectively</li>
</ul>
<h2>0.16.0</h2>
<ul>
<li>Include inserts in range for <code>overwrite</code> and <code>remove</code> operations (<a href="https://github.com/Rich-Harris/magic-string/pull/89" target="_blank" rel="noopener">#89</a>)</li>
<li>Make options optional for <code>bundle.generateMap(...)</code> (<a href="https://github.com/Rich-Harris/magic-string/pull/73" target="_blank" rel="noopener">#73</a>)</li>
</ul>
<h2>0.15.2</h2>
<ul>
<li>Generate correct bundle sourcemap with prepended/appended content</li>
</ul>
<h2>0.15.1</h2>
<ul>
<li>Minor sourcemap fixes</li>
</ul>
<h2>0.15.0</h2>
<ul>
<li>Use named export of <code>Bundle</code> in ES build, so ES consumers of magic-string can tree-shake it out</li>
</ul>
<h2>0.14.0</h2>
<ul>
<li>Throw if overwrite of zero-length range is attempted</li>
<li>Correctly handle redundant move operations</li>
</ul>
<h2>0.13.1</h2>
<ul>
<li>Fix a bevy of <code>s.slice()</code> issues (<a href="https://github.com/Rich-Harris/magic-string/pull/62" target="_blank" rel="noopener">#62</a>)</li>
</ul>
<h2>0.13.0</h2>
<ul>
<li>Breaking: <code>insertAfter</code> is now <code>insertLeft</code>, <code>insertBefore</code> is now <code>insertRight</code></li>
<li>Breaking: <code>insert</code> is no longer available. Use <code>insertLeft</code> and <code>insertRight</code></li>
<li>Significant performance improvements</li>
</ul>
<h2>0.12.1</h2>
<ul>
<li>Fix sourcemap generation with <code>insertAfter</code> and <code>insertBefore</code></li>
</ul>
<h2>0.12.0</h2>
<ul>
<li>Add <code>insertAfter</code> and <code>insertBefore</code> methods</li>
</ul>
<h2>0.11.4</h2>
<ul>
<li>Fix two regression bugs with <code>trim()</code></li>
<li>More informative error message on illegal removals</li>
</ul>
<h2>0.11.3</h2>
<ul>
<li>Fix trim methods to ensure correct sourcemaps with trimmed content (<a href="https://github.com/Rich-Harris/magic-string/pull/53" target="_blank" rel="noopener">#53</a>)</li>
</ul>
<h2>0.11.2</h2>
<ul>
<li>Support sourcemaps with moved content</li>
</ul>
<h2>0.11.1</h2>
<ul>
<li>Use <code>findIndex</code> helper for 0.12 support</li>
</ul>
<h2>0.11.0</h2>
<ul>
<li>Add experimental <code>move()</code> method</li>
<li>Refactor internals to support <code>move()</code></li>
</ul>
<h2>0.10.2</h2>
<ul>
<li>Do not overwrite inserts at the end of patched ranges (<a href="https://github.com/Rich-Harris/magic-string/pull/35" target="_blank" rel="noopener">#35</a>)</li>
</ul>
<h2>0.10.1</h2>
<ul>
<li>Zero-length inserts are not removed on adjacent overwrites</li>
</ul>
<h2>0.10.0</h2>
<ul>
<li>Complete rewrite, resulting in ~40x speed increase (<a href="https://github.com/Rich-Harris/magic-string/pull/30" target="_blank" rel="noopener">#30</a>)</li>
<li>Breaking &#x2013; <code>magicString.locate</code> and <code>locateOrigin</code> are deprecated</li>
<li>More forgiving rules about contiguous patches, and which ranges are valid with <code>magicString.slice(...)</code></li>
</ul>
<h2>0.9.1</h2>
<ul>
<li>Update deps</li>
</ul>
<h2>0.9.0</h2>
<ul>
<li>Update build process</li>
</ul>
<h2>0.8.0</h2>
<ul>
<li>Add an ES6 build, change default UMD build to CommonJS (but keeping existing UMD build with bundled dependencies)</li>
<li>Make properties non-enumerable, for cleaner logging</li>
<li>Update dependencies</li>
</ul>
<h2>0.7.0</h2>
<ul>
<li>The <code>names</code> array is populated when generating sourcemaps, and mappings include name indices where appropriate (<a href="https://github.com/Rich-Harris/magic-string/issues/16" target="_blank" rel="noopener">#16</a>)</li>
<li>Replaced content is mapped correctly in sourcemaps (<a href="https://github.com/Rich-Harris/magic-string/issues/15" target="_blank" rel="noopener">#15</a>)</li>
</ul>
<h2>0.6.6</h2>
<ul>
<li>Adjust mappings correctly when removing replaced content</li>
<li>Error correctly when removed characters are used as slice anchors</li>
</ul>
<h2>0.6.5</h2>
<ul>
<li>Fix <code>jsnext:main</code> in package.json</li>
</ul>
<h2>0.6.4</h2>
<ul>
<li>Fix bug with positive integer coercion</li>
</ul>
<h2>0.6.3</h2>
<ul>
<li>Intro content is correctly indented</li>
<li>Content following an intro with trailing newline is correctly indented</li>
</ul>
<h2>0.6.2</h2>
<ul>
<li>Noop indents are still chainable (fixes bug introduced in 0.6.1)</li>
</ul>
<h2>0.6.1</h2>
<ul>
<li>Indenting with an empty string is a noop</li>
</ul>
<h2>0.6.0</h2>
<ul>
<li>Use rollup for bundling, instead of esperanto</li>
</ul>
<h2>0.5.3</h2>
<ul>
<li>Correct sourcemap generation with bundles containing varied separators</li>
<li><code>s.clone()</code> clones indent exclusion ranges and sourcemap locations</li>
</ul>
<h2>0.5.2</h2>
<ul>
<li><code>s.slice()</code> accepts negative numbers, and the second argument can be omitted (means &apos;original string length&apos;), just like <code>String.prototype.slice</code></li>
<li>More informative error message when trying to overwrite content illegally</li>
</ul>
<h2>0.5.1</h2>
<ul>
<li>Allow bundle separator to be the empty string</li>
<li>Indenting is handled correctly with empty string separator</li>
</ul>
<h2>0.5.0</h2>
<ul>
<li><code>s.replace()</code> is deprecated in favour of <code>s.overwrite()</code> (identical signature)</li>
<li><code>bundle.addSource()</code> can take a <code>MagicString</code> instance as its sole argument, for convenience</li>
<li>The <code>options</code> in <code>new MagicString(str, options)</code> can include <code>filename</code> and <code>indentExclusionRanges</code> options, which will be used when bundling</li>
<li>New method: <code>s.snip( start, end )</code></li>
</ul>
<h2>0.4.9</h2>
<ul>
<li><code>file</code> option is optional when generating a bundle sourcemap</li>
</ul>
<h2>0.4.7</h2>
<ul>
<li>Repeated insertions at position 0 behave the same as other positions (<a href="https://github.com/Rich-Harris/magic-string/pull/10" target="_blank" rel="noopener">#10</a>)</li>
</ul>
<h2>0.4.6</h2>
<ul>
<li>Overlapping ranges can be removed</li>
<li>Non-string content is rejected (<a href="https://github.com/Rich-Harris/magic-string/pull/9" target="_blank" rel="noopener">#9</a>)</li>
</ul>
<h2>0.4.5</h2>
<ul>
<li>Implement <code>source.addSourcemapLocation()</code></li>
</ul>
<h2>0.4.4</h2>
<ul>
<li>Another Windows fix, this time for file paths when bundling</li>
</ul>
<h2>0.4.3</h2>
<ul>
<li>Handle Windows-style CRLF newlines when determining whether a line is empty</li>
</ul>
<h2>0.4.2</h2>
<ul>
<li>Fix typo in package.json (d&apos;oh again)</li>
<li>Use only relative paths for internal modules - makes bundling with dependents (i.e. esperanto) possible</li>
</ul>
<h2>0.4.1</h2>
<ul>
<li>Includes correct files in npm package (d&apos;oh)</li>
</ul>
<h2>0.4.0</h2>
<ul>
<li>Using experimental Esperanto feature (<a href="https://github.com/esperantojs/esperanto/issues/68" target="_blank" rel="noopener">esperantojs/esperanto#68</a>) to generate version with <code>vlq</code> dependency included</li>
</ul>
<h2>0.3.1</h2>
<ul>
<li>Fixes a bug whereby multiple insertions at the same location would cause text to repeat (<a href="https://github.com/Rich-Harris/magic-string/issues/5" target="_blank" rel="noopener">#5</a>)</li>
</ul>
<h2>0.3.0</h2>
<ul>
<li>Breaking change - <code>source.indentStr</code> is <code>null</code> if no lines are indented. Use <code>source.getIndentString()</code> for the old behaviour (guess, and if no lines are indented, return <code>\t</code>)</li>
<li><code>bundle.getIndentString()</code> ignores sources with no indented lines when guessing indentation (<a href="https://github.com/Rich-Harris/magic-string/issues/3" target="_blank" rel="noopener">#3</a>)</li>
</ul>
<h2>0.2.7</h2>
<ul>
<li><code>source.trimLines()</code> removes empty lines from start/end of source, leaving other whitespace untouched</li>
<li>Indentation is not added to an empty source</li>
</ul>
<h2>0.2.6</h2>
<ul>
<li>Performance improvement - adjustments are only made when necessary</li>
</ul>
<h2>0.2.5</h2>
<ul>
<li>Single spaces are ignored when guessing indentation - experience shows these are more likely to be e.g. JSDoc comments than actual indentation</li>
<li><code>bundle.addSource()</code> can take an <code>indentExclusionRanges</code> option</li>
</ul>
<h2>0.2.4</h2>
<ul>
<li>Empty lines are not indented</li>
</ul>
<h2>0.2.3</h2>
<ul>
<li>Fixes edge case with bundle sourcemaps</li>
</ul>
<h2>0.2.2</h2>
<ul>
<li>Make <code>sources</code> paths in sourcemaps relative to <code>options.file</code></li>
</ul>
<h2>0.2.1</h2>
<ul>
<li>Minor fix for <code>bundle.indent()</code></li>
</ul>
<h2>0.2.0</h2>
<ul>
<li>Implement <code>MagicString.Bundle</code> for concatenating magic strings</li>
</ul>
<h2>0.1.10</h2>
<ul>
<li>Fix sourcemap encoding</li>
</ul>
<h2>0.1.9</h2>
<ul>
<li>Better performance when indenting large chunks of code</li>
</ul>
<h2>0.1.8</h2>
<ul>
<li>Sourcemaps generated with <code>s.generateMap()</code> have a <code>toUrl()</code> method that generates a DataURI</li>
</ul>
<h2>0.1.7</h2>
<ul>
<li>Implement <code>s.insert( index, content )</code> - roughly equivalent to <code>s.replace( index, index, content )</code></li>
</ul>
<h2>0.1.6</h2>
<ul>
<li>Version bump for npm&apos;s benefit</li>
</ul>
<h2>0.1.5</h2>
<ul>
<li><code>s.indent({ exclude: [ x, y ] })</code> prevents lines between (original) characters <code>x</code> and <code>y</code> from being indented. Multiple exclusion ranges are also supported (e.g. <code>exclude: [[a, b], [c, d]]</code>)</li>
</ul>
<h2>0.1.4</h2>
<ul>
<li><code>s.locate()</code> doesn&apos;t throw out-of-bound error if index is equal to original string&apos;s length</li>
</ul>
<h2>0.1.3</h2>
<ul>
<li><code>s.trim()</code> returns <code>this</code> (i.e. is chainable)</li>
</ul>
<h2>0.1.2</h2>
<ul>
<li>Implement <code>s.slice()</code></li>
</ul>
<h2>0.1.1</h2>
<ul>
<li>Implement <code>s.trim()</code></li>
</ul>
<h2>0.1.0</h2>
<ul>
<li>First release</li>
</ul>
</body></html></div>
        </main>
      </div>
    </div>
<footer class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-2 mb-md-0 mb-4">
        <span class="pr-md-5 pr-0 py-3">
          <a href="https://runtimeverification.com" target="_blank">
            <picture>
              <source
                srcset="../../../../assets/img/rv-logo-dark.png"
                media="(prefers-color-scheme: dark)"
              />
              <img
                class="pr-3 footer-logo"
                src="../../../../assets/img/rv-logo.png"
                alt="Runtime Verification Inc logo"
              />
            </picture>
          </a>
        </span>
      </div>
      <div class="col-md-6 mb-md-0 mb-4"></div>
      <div class="col-md-4 text-md-right">
        <p class="copyright">
          &copy; 2020 Runtime Verification Inc. All right reserved.
        </p>
      </div>
    </div>
  </div>
</footer>

<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-163311512-1"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-163311512-1");
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../../../../assets/js/index.js"></script>
  </body>
</html>
