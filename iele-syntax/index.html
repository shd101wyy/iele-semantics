<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="IELE Semantics | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../assets/img/favicon.ico" />

<title>IELE Semantics | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../index.html"> IELE Semantics </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/runtimeverification/iele-semantics"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <!--
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../downloads"
    >Download</a
  >
  -->
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../">Homepage</a>
      <a class="bd-toc-link" href="../INSTALL">Install</a>
      <a class="bd-toc-link" href="../Design">Design</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="markdown-preview"><html><head></head><body><h1 id="iele-textual-syntax">IELE Textual Syntax</h1>
<p>Here we define the textual syntax of IELE assembly code. The syntax represented here has some syntactic sugar which is removed by the assembler. However, a fragment of this textual encoding is used by the semantics to express the rules of the language itself. The <a href="https://github.com/runtimeverification/iele-semantics/tree/master/iele-examples">iele-examples</a> directory contains various sample IELE contracts, such as:</p>
<ul>
<li>a <a href="https://github.com/runtimeverification/iele-semantics/tree/master/iele-examples/simpleOpenAuction.iele">simple open auction contract</a>;</li>
<li>an <a href="https://github.com/runtimeverification/iele-semantics/tree/master/iele-examples/erc20.iele">ERC20 token</a>;  and</li>
<li>a <a href="https://github.com/runtimeverification/iele-semantics/tree/master/iele-examples/forwardingWallet.iele">forwarding wallet contract</a>.</li>
</ul>
<p>The best way to understand the meaning of the IELE syntactic constructs is to read their actual formal semantics in <a href="../iele/">iele.md</a>.</p>
<h2 id="names-and-literals">Names and Literals</h2>
<h3 id="iele-names">IELE Names</h3>
<p>IELE uses alphanumeric names for identifying registers, labels, functions, and contracts. IELE &quot;keywords&quot; are also valid identifiers.</p>
<pre class="hljs"><code><span class="hljs-keyword">module</span> IELE-SYNTAX<span class="hljs-keyword">
  imports</span> IELE-COMMON<span class="hljs-keyword">

  syntax</span> IeleNameToken ::= r<span class="hljs-string">&quot;(?&lt;![A-Za-z0-9\\_\\.\\-\\$])[a-zA-Z\\.\\_\\$][0-9a-zA-Z\\.\\_\\-\\$]*&quot;</span> [<span class="hljs-literal">token</span>, <span class="hljs-literal">notInRules</span>, prec(<span class="hljs-number">3</span>)]<span class="hljs-keyword">

  syntax</span> Keyword ::= <span class="hljs-string">&quot;load&quot;</span> | <span class="hljs-string">&quot;store&quot;</span> | <span class="hljs-string">&quot;sload&quot;</span>  | <span class="hljs-string">&quot;sstore&quot;</span> | <span class="hljs-string">&quot;iszero&quot;</span> | <span class="hljs-string">&quot;not&quot;</span>  | <span class="hljs-string">&quot;add&quot;</span>  | <span class="hljs-string">&quot;mul&quot;</span>  | <span class="hljs-string">&quot;sub&quot;</span> | <span class="hljs-string">&quot;div&quot;</span>
                   | <span class="hljs-string">&quot;exp&quot;</span>  | <span class="hljs-string">&quot;mod&quot;</span>   | <span class="hljs-string">&quot;addmod&quot;</span> | <span class="hljs-string">&quot;mulmod&quot;</span> | <span class="hljs-string">&quot;expmod&quot;</span> | <span class="hljs-string">&quot;byte&quot;</span> | <span class="hljs-string">&quot;sext&quot;</span> | <span class="hljs-string">&quot;twos&quot;</span> | <span class="hljs-string">&quot;and&quot;</span> | <span class="hljs-string">&quot;or&quot;</span>
                   | <span class="hljs-string">&quot;xor&quot;</span>  | <span class="hljs-string">&quot;shift&quot;</span> | <span class="hljs-string">&quot;lt&quot;</span>     | <span class="hljs-string">&quot;le&quot;</span>     | <span class="hljs-string">&quot;gt&quot;</span>     | <span class="hljs-string">&quot;ge&quot;</span>   | <span class="hljs-string">&quot;eq&quot;</span>   | <span class="hljs-string">&quot;ne&quot;</span>   | <span class="hljs-string">&quot;cmp&quot;</span> | <span class="hljs-string">&quot;sha3&quot;</span><span class="hljs-keyword">
  
  syntax</span> Keyword ::= <span class="hljs-string">&quot;br&quot;</span>   | <span class="hljs-string">&quot;call&quot;</span>   | <span class="hljs-string">&quot;staticcall&quot;</span> | <span class="hljs-string">&quot;at&quot;</span> | <span class="hljs-string">&quot;send&quot;</span>  | <span class="hljs-string">&quot;gaslimit&quot;</span> | <span class="hljs-string">&quot;ret&quot;</span>      | <span class="hljs-string">&quot;void&quot;</span>   | <span class="hljs-string">&quot;revert&quot;</span>
                   | <span class="hljs-string">&quot;log&quot;</span>  | <span class="hljs-string">&quot;create&quot;</span> | <span class="hljs-string">&quot;copycreate&quot;</span> | <span class="hljs-string">&quot;selfdestruct&quot;</span> | <span class="hljs-string">&quot;contract&quot;</span> | <span class="hljs-string">&quot;external&quot;</span> | <span class="hljs-string">&quot;define&quot;</span> | <span class="hljs-string">&quot;public&quot;</span>
                   | <span class="hljs-string">&quot;log2&quot;</span> | <span class="hljs-string">&quot;bswap&quot;</span>  | <span class="hljs-string">&quot;calladdress&quot;</span><span class="hljs-keyword">
  syntax</span> IeleNameToken ::= Keyword [<span class="hljs-literal">token</span>]<span class="hljs-keyword">

  syntax</span> NumericIeleName ::= r<span class="hljs-string">&quot;[0-9]+&quot;</span> [<span class="hljs-literal">token</span>]<span class="hljs-keyword">

  syntax</span> StringIeleName ::= r<span class="hljs-string">&quot;\\\&quot;(([^\\\&quot;\\\\])|(\\\\[0-9a-fA-F]{2}))*\\\&quot;&quot;</span> [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
endmodule</span>
</code></pre>
<p>Local register names are desugared to integers when assembling an IELE program</p>
<pre class="hljs"><code><span class="hljs-keyword">module</span> IELE-COMMON<span class="hljs-keyword">
  imports</span> DOMAINS-SYNTAX<span class="hljs-keyword">
  imports</span> INT-SYNTAX<span class="hljs-keyword">

  syntax</span> KResult<span class="hljs-keyword">

  syntax</span> NumericIeleName ::=<span class="hljs-keyword"> Int</span><span class="hljs-keyword">
  syntax</span> StringIeleName [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleName ::= NumericIeleName<span class="hljs-keyword">
  syntax</span> IeleNameToken [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleName ::= IeleNameToken<span class="hljs-keyword">
  syntax</span> IeleName ::= StringIeleName [klabel(StringIeleName), <span class="hljs-literal">avoid</span>, symbol, function]
</code></pre>
<h3 id="identifiers">Identifiers</h3>
<p>IELE has two categories of identifiers: local and global names.</p>
<ul>
<li>Local names have function-wide scope, are used for naming registers, and begin with <code>%</code>.</li>
<li>Global names have contract-wide scope, are used for naming globals and functions, and begin with <code>@</code>.</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> GlobalName ::= <span class="hljs-string">&quot;@&quot;</span> IeleName<span class="hljs-keyword">

  syntax</span> LocalName ::= <span class="hljs-string">&quot;%&quot;</span> IeleName<span class="hljs-keyword">

  syntax</span> LocalNames ::= List{LocalName, <span class="hljs-string">&quot;,&quot;</span>} [klabel(localNameList)]
</code></pre>
<h3 id="constants">Constants</h3>
<ul>
<li>IELE constants include unbounded signed integer literals and globals.</li>
<li>IELE globals serve as names with contract-wide scope that hold a constant value (cannot be modified).</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> Constant ::= IntConstant | GlobalName<span class="hljs-keyword">
  syntax</span> IntConstant ::=<span class="hljs-keyword"> Int</span> |<span class="hljs-keyword"> Bool</span> | HexConstant<span class="hljs-keyword">
  syntax</span> HexConstant ::= r<span class="hljs-string">&quot;0x[0-9a-fA-F]+&quot;</span> [<span class="hljs-literal">token</span>]
</code></pre>
<h2 id="instructions">Instructions</h2>
<h3 id="operands">Operands</h3>
<p>IELE instruction operands are used at the left- and right-hand side of IELE instructions.</p>
<ul>
<li>One or more <code>LValues</code> can be used at the left-hand side of various IELE instructions</li>
<li>Zero or more <code>Operands</code> can be used at the right-hand side of various IELE instructions and as actual argument lists in function calls.</li>
<li>Constants can only be used as right-hand side operands, while registers can be used as both left- and right-hand side operands.</li>
<li>Each right-hand side operand will be heated to an unbounded signed integer value during execution.</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> LValue ::= LocalName<span class="hljs-keyword">
  
  syntax</span> LValues ::= NeList{LValue, <span class="hljs-string">&quot;,&quot;</span>} [klabel(lvalueList)]<span class="hljs-keyword">

  syntax</span> Operand ::= LValue | Constant<span class="hljs-keyword">

  syntax</span> Operands ::= List{Operand, <span class="hljs-string">&quot;,&quot;</span>} [klabel(operandList)]<span class="hljs-keyword">

  syntax</span> NonEmptyOperands ::= NeList{Operand, <span class="hljs-string">&quot;,&quot;</span>} [klabel(operandList)]<span class="hljs-keyword">

  syntax</span> Ints ::= List{<span class="hljs-keyword">Int</span>, <span class="hljs-string">&quot;,&quot;</span>} [klabel(operandList)]<span class="hljs-keyword">

  syntax</span> Operands ::= Ints<span class="hljs-keyword">

  syntax</span> Operands ::= NonEmptyOperands<span class="hljs-keyword">

  syntax</span> Ints ::= NonEmptyInts<span class="hljs-keyword">

  syntax</span> NonEmptyOperands ::= NonEmptyInts<span class="hljs-keyword">

  syntax</span> NonEmptyInts ::= NeList{<span class="hljs-keyword">Int</span>, <span class="hljs-string">&quot;,&quot;</span>} [klabel(operandList)]
</code></pre>
<h3 id="assignment">Assignment</h3>
<p>Simple copy assignment that loads a value into a register.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> AssignInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> Operand
</code></pre>
<h3 id="local-memory">Local Memory</h3>
<p>Instructions that provide access to the local execution memory. For more details see <a href="../Design/#local-execution-memory">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> LoadInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;load&quot;</span> <span class="hljs-comment">/* cell */</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>)]<span class="hljs-keyword">
  syntax</span> LoadInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;load&quot;</span> <span class="hljs-comment">/* cell */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* offset in bytes */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* width in bytes */</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)]<span class="hljs-keyword">
  syntax</span> StoreInst ::= <span class="hljs-string">&quot;store&quot;</span> <span class="hljs-comment">/* value */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* cell */</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)]<span class="hljs-keyword">
  syntax</span> StoreInst ::= <span class="hljs-string">&quot;store&quot;</span> <span class="hljs-comment">/* value */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* cell */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* offset in bytes */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* width in bytes */</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)]
</code></pre>
<h3 id="account-storage">Account Storage</h3>
<p>Instructions that provide access to the account storage. For more details see <a href="../Design/#account-storage">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> SLoadInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;sload&quot;</span> <span class="hljs-comment">/* index */</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>)]<span class="hljs-keyword">
  syntax</span> SStoreInst ::= <span class="hljs-string">&quot;sstore&quot;</span> <span class="hljs-comment">/* value */</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* index */</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)]
</code></pre>
<h3 id="expressions">Expressions</h3>
<p>Various expressions over unbounded signed integers. For more details see <a href="../Design/#arbitrary-precision-words">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> IsZeroInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;iszero&quot;</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>)]<span class="hljs-keyword">
  syntax</span> NotInst    ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;not&quot;</span>    Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>)]<span class="hljs-keyword">

  syntax</span> AddInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;add&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> MulInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;mul&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> SubInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;sub&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> DivInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;div&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> ExpInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;exp&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> ModInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;mod&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">

  syntax</span> AddModInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;addmod&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)]<span class="hljs-keyword">
  syntax</span> MulModInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;mulmod&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)]<span class="hljs-keyword">
  syntax</span> ExpModInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;expmod&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)]<span class="hljs-keyword">

  syntax</span> LogInst   ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;log2&quot;</span>                                    Operand             [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>)]<span class="hljs-keyword">
  syntax</span> ByteInst  ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;byte&quot;</span>  <span class="hljs-comment">/* byte index, 0 being the LSB */</span> Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> SExtInst  ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;sext&quot;</span>  <span class="hljs-comment">/* width in bytes */</span>              Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> TwosInst  ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;twos&quot;</span>  <span class="hljs-comment">/* width in bytes */</span>              Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> BswapInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;bswap&quot;</span> <span class="hljs-comment">/* width in bytes */</span>              Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">

  syntax</span> AndInst   ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;and&quot;</span>   Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> OrInst    ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;or&quot;</span>    Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> XorInst   ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;xor&quot;</span>   Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> ShiftInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;shift&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* shift amount */</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">

  syntax</span> Predicate ::= <span class="hljs-string">&quot;lt&quot;</span> | <span class="hljs-string">&quot;le&quot;</span> | <span class="hljs-string">&quot;gt&quot;</span> | <span class="hljs-string">&quot;ge&quot;</span> | <span class="hljs-string">&quot;eq&quot;</span> | <span class="hljs-string">&quot;ne&quot;</span><span class="hljs-keyword">
  syntax</span> CmpInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;cmp&quot;</span> Predicate Operand <span class="hljs-string">&quot;,&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)]<span class="hljs-keyword">

  syntax</span> SHA3Inst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;sha3&quot;</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>)]
</code></pre>
<h3 id="static-jumps">Static Jumps</h3>
<p>Instructions for conditional and unconditional jumps within the function&apos;s body. For more details see <a href="../Design/#static-jumps">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> JumpInst     ::= <span class="hljs-string">&quot;br&quot;</span> IeleName<span class="hljs-keyword">
  syntax</span> CondJumpInst ::= <span class="hljs-string">&quot;br&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> IeleName [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">1</span>)]
</code></pre>
<h3 id="function-calls-and-returns">Function Calls and Returns</h3>
<p>Instructions for local functions calls to other functions of the same contract, as well as contract function calls to public functions of contracts deployed in other accounts. For more details see <a href="../Design/#function-callreturn">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> LocalCallInst   ::= <span class="hljs-string">&quot;call&quot;</span> Operand <span class="hljs-string">&quot;(&quot;</span> Operands <span class="hljs-string">&quot;)&quot;</span>
                           | LValues <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;call&quot;</span> Operand <span class="hljs-string">&quot;(&quot;</span> Operands <span class="hljs-string">&quot;)&quot;</span> [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)]<span class="hljs-keyword">
  syntax</span> AccountCallInst ::= LValues <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;call&quot;</span> Operand <span class="hljs-string">&quot;at&quot;</span> Operand <span class="hljs-string">&quot;(&quot;</span> Operands <span class="hljs-string">&quot;)&quot;</span> <span class="hljs-string">&quot;send&quot;</span> Operand <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-string">&quot;gaslimit&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)]<span class="hljs-keyword">
  syntax</span> AccountCallInst ::= LValues <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;staticcall&quot;</span> Operand <span class="hljs-string">&quot;at&quot;</span> Operand <span class="hljs-string">&quot;(&quot;</span> Operands <span class="hljs-string">&quot;)&quot;</span> <span class="hljs-string">&quot;gaslimit&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)]<span class="hljs-keyword">

  syntax</span> CallAddressInst ::= LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;calladdress&quot;</span> GlobalName <span class="hljs-string">&quot;at&quot;</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">3</span>)]<span class="hljs-keyword">

  syntax</span> ReturnInst ::= <span class="hljs-string">&quot;ret&quot;</span> NonEmptyOperands [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">1</span>)]
                      | <span class="hljs-string">&quot;ret&quot;</span> <span class="hljs-string">&quot;void&quot;</span><span class="hljs-keyword">
  syntax</span> RevertInst ::= <span class="hljs-string">&quot;revert&quot;</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">1</span>)]
</code></pre>
<h3 id="logging">Logging</h3>
<p>Instructions to append information to the substate log. These variations append the entire content of a local execution memory cell to the log along with zero to four log topics.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> LogInst ::= <span class="hljs-string">&quot;log&quot;</span> <span class="hljs-comment">/* cell */</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">1</span>)]
                   | <span class="hljs-string">&quot;log&quot;</span> <span class="hljs-comment">/* cell */</span> Operand <span class="hljs-string">&quot;,&quot;</span> NonEmptyOperands [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)]
</code></pre>
<h3 id="account-creation-and-deletion">Account Creation and Deletion</h3>
<p>Instructions to create and/or delete a new account with a contract deployed with it. For more details see <a href="../Design/#contract-creation">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> CreateInst ::= <span class="hljs-comment">/* exit status */</span> LValue <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* new account address */</span> LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;create&quot;</span>     <span class="hljs-comment">/* contract name */</span>    IeleName <span class="hljs-string">&quot;(&quot;</span> Operands <span class="hljs-string">&quot;)&quot;</span> <span class="hljs-string">&quot;send&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)]<span class="hljs-keyword">
  syntax</span> CreateInst ::= <span class="hljs-comment">/* exit status */</span> LValue <span class="hljs-string">&quot;,&quot;</span> <span class="hljs-comment">/* new account address */</span> LValue <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-string">&quot;copycreate&quot;</span> <span class="hljs-comment">/* contract address */</span> Operand  <span class="hljs-string">&quot;(&quot;</span> Operands <span class="hljs-string">&quot;)&quot;</span> <span class="hljs-string">&quot;send&quot;</span> Operand [hybrid, <span class="hljs-literal">seqstrict</span>(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)]<span class="hljs-keyword">

  syntax</span> SelfdestructInst ::= <span class="hljs-string">&quot;selfdestruct&quot;</span> <span class="hljs-comment">/* account to send balance */</span> Operand [hybrid, <span class="hljs-literal">strict</span>(<span class="hljs-number">1</span>)]
</code></pre>
<h3 id="local-and-network-state-accessors">Local and Network State Accessors</h3>
<p>These accessors are implemented as builtins that can be called using the same syntax as in a local call, e.g. <code>%pc = call @iele.pc()</code> or <code>%balance = call @iele.balance(%bank.account)</code>. The names of the builtins follow the IELE convention for intrinsics: Their name is a valid global name that starts with the prefix <code>iele.</code>. This means that no user-defined global name can start with the prefix <code>iele.</code>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.invalid&quot;</span>     [<span class="hljs-literal">token</span>]
  <span class="hljs-comment">// local state queries</span><span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.gas&quot;</span>         [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.gasprice&quot;</span>    [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.gaslimit&quot;</span>    [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.beneficiary&quot;</span> [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.timestamp&quot;</span>   [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.number&quot;</span>      [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.difficulty&quot;</span>  [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.address&quot;</span>     [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.origin&quot;</span>      [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.caller&quot;</span>      [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.callvalue&quot;</span>   [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.msize&quot;</span>       [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.codesize&quot;</span>    [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.blockhash&quot;</span>   [<span class="hljs-literal">token</span>]
  <span class="hljs-comment">// account queries</span><span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.balance&quot;</span>     [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.extcodesize&quot;</span> [<span class="hljs-literal">token</span>]
</code></pre>
<h3 id="precompiled-contracts">Precompiled Contracts</h3>
<p>Precompiled contracts are also available as IELE builtins but they should be called using the syntax for an account call targeting the account with address <code>1</code> (e.g. <code>%res  = call @iele.sha256 at 1 ( %len, %data ) send %val, gaslimit %gas</code>).</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.ecrec&quot;</span>     [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.sha256&quot;</span>    [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.rip160&quot;</span>    [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.id&quot;</span>        [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.ecadd&quot;</span>     [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.ecmul&quot;</span>     [<span class="hljs-literal">token</span>]<span class="hljs-keyword">
  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;iele.ecpairing&quot;</span> [<span class="hljs-literal">token</span>]
</code></pre>
<h4 id="instruction-lists">Instruction Lists</h4>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> Instruction ::=
    AssignInst
  | LoadInst
  | StoreInst
  | SLoadInst
  | SStoreInst
  | IsZeroInst
  | NotInst
  | AddInst
  | MulInst
  | SubInst
  | DivInst
  | ExpInst
  | ModInst
  | AddModInst
  | MulModInst
  | ExpModInst
  | ByteInst
  | SExtInst
  | TwosInst
  | BswapInst
  | AndInst
  | OrInst
  | XorInst
  | ShiftInst
  | CmpInst
  | SHA3Inst
  | JumpInst
  | CondJumpInst
  | LocalCallInst
  | AccountCallInst
  | CallAddressInst
  | ReturnInst
  | RevertInst
  | LogInst
  | CreateInst
  | SelfdestructInst<span class="hljs-keyword">

  syntax</span> Instructions ::= List{Instruction, <span class="hljs-string">&quot;&quot;</span>} [klabel(instructionList), format(%<span class="hljs-number">1</span>%<span class="hljs-number">2</span>%n%<span class="hljs-number">3</span>)]
</code></pre>
<h2 id="iele-program-structure">IELE Program Structure</h2>
<h3 id="contracts">Contracts</h3>
<p>A contract is a compilation unit of code to be deployed with an account in the blockchain.</p>
<ul>
<li>A IELE program consists of a list of one or more contracts.</li>
<li>The last contract in the list is the main contract.</li>
<li>Each contract has a name and consists of a list of top-level definitions.</li>
<li>Top-level definitions include external contract declarations, global definitions, and function definitions.</li>
</ul>
<p>For more details see below and <a href="../Design/#program-structure">here</a>.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> TopLevelDefinition ::=
    FunctionDefinition
  | GlobalDefinition
  | ContractDeclaration<span class="hljs-keyword">

  syntax</span> TopLevelDefinitions ::= List{TopLevelDefinition, <span class="hljs-string">&quot;&quot;</span>} [klabel(topLevelDefinitionList), format(%<span class="hljs-number">1</span>%<span class="hljs-number">2</span>%n%<span class="hljs-number">3</span>)]<span class="hljs-keyword">

  syntax</span> ContractDefinition ::= <span class="hljs-string">&quot;contract&quot;</span> IeleName <span class="hljs-string">&quot;{&quot;</span> TopLevelDefinitions <span class="hljs-string">&quot;}&quot;</span> [format(%<span class="hljs-number">1</span> %<span class="hljs-number">2</span> %<span class="hljs-number">3</span>%n%i%<span class="hljs-number">4</span>%d%n%<span class="hljs-number">5</span>)]<span class="hljs-keyword">

  syntax</span> Contract ::= List{ContractDefinition, <span class="hljs-string">&quot;&quot;</span>} [klabel(contractDefinitionList)]
</code></pre>
<h3 id="contract-declarations">Contract declarations</h3>
<p>A contract can only create accounts with deployed contracts that have been externaly declared within its top-level. A corresponding contract definition for each external contract declaration should precede this contract definition. This design decision ensures that a contract can only create new accounts with deployed contracts for which the code is available to it.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> ContractDeclaration ::= <span class="hljs-string">&quot;external&quot;</span> <span class="hljs-string">&quot;contract&quot;</span> IeleName
</code></pre>
<h3 id="global-registers">Global Registers</h3>
<p>Definition of globals and their constant values. Globals are accessible from within any function of the contract and their value cannot be modified.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> GlobalDefinition ::= GlobalName <span class="hljs-string">&quot;=&quot;</span> IntConstant  [klabel(globalDefinition)]
</code></pre>
<h3 id="functions">Functions</h3>
<p>Function definitions consist of a function signature (function name and names of formal arguments) and a function body (a list of blocks containing the code of the function). Functions can be defined as <code>public</code> meaning that they can be called from a contract deployed with another account. Non-<code>public</code> functions can only be called locally within the contract.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> FunctionSignature ::= GlobalName <span class="hljs-string">&quot;(&quot;</span> FunctionParameters <span class="hljs-string">&quot;)&quot;</span><span class="hljs-keyword">

  syntax</span> FunctionParameters ::= LocalNames<span class="hljs-keyword">

  syntax</span> FunctionDefinition ::= 
    <span class="hljs-string">&quot;define&quot;</span> FunctionSignature <span class="hljs-string">&quot;{&quot;</span> Blocks <span class="hljs-string">&quot;}&quot;</span>             [format(%<span class="hljs-number">1</span> %<span class="hljs-number">2</span> %<span class="hljs-number">3</span>%i%n%<span class="hljs-number">4</span>%d%n%<span class="hljs-number">5</span>%n)]
  | <span class="hljs-string">&quot;define&quot;</span> <span class="hljs-string">&quot;public&quot;</span> FunctionSignature <span class="hljs-string">&quot;{&quot;</span> Blocks <span class="hljs-string">&quot;}&quot;</span> [format(%<span class="hljs-number">1</span> %<span class="hljs-number">2</span> %<span class="hljs-number">3</span> %<span class="hljs-number">4</span>%i%n%<span class="hljs-number">5</span>%d%n%<span class="hljs-number">6</span>%n)]
</code></pre>
<h3 id="blocks">Blocks</h3>
<p>The body of a function is a list of blocks, where each block is a list of IELE instructions. Each block except the first one has to be preceded by a label, making the first instruction of the block a valid target of a local jump. The first block can also be optionally labeled.</p>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> LabeledBlock ::= IeleName <span class="hljs-string">&quot;:&quot;</span> Instructions<span class="hljs-keyword">

  syntax</span> LabeledBlocks ::= List{LabeledBlock, <span class="hljs-string">&quot;&quot;</span>} [klabel(labeledBlockList)]<span class="hljs-keyword">

  syntax</span> UnlabeledBlock ::= Instructions<span class="hljs-keyword">

  syntax</span> Blocks [flatPredicate]<span class="hljs-keyword">
  syntax</span> Blocks ::= UnlabeledBlock LabeledBlocks [<span class="hljs-literal">avoid</span>] | LabeledBlocks
</code></pre>
<h3 id="reserved-iele-function-names">Reserved IELE Function Names</h3>
<ul>
<li>An account to which code has never been deployed contains an implicit contract with one public function named <code>@deposit</code> which takes no arguments, returns no values, and does nothing. This function exists to allow such accounts to receive payments.</li>
<li>A special private function named <code>@init</code> should be defined for every contract and will be called when an account is created with this contract.</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;deposit&quot;</span> [<span class="hljs-literal">token</span>]<span class="hljs-keyword">

  syntax</span> IeleNameToken ::= <span class="hljs-string">&quot;init&quot;</span> [<span class="hljs-literal">token</span>]
</code></pre>
<h4 id="macros">Macros</h4>
<p>Finally, following are macros for desugaring empty <code>LValues</code> and <code>Operands</code> lists in calls and returns.</p>
<pre class="hljs"><code><span class="hljs-keyword">  rule</span> call NAME ( ARGS ) =&gt; .LValues = call NAME ( ARGS ) [alias]<span class="hljs-keyword">
  rule</span> ret void =&gt; ret .NonEmptyOperands [alias]<span class="hljs-keyword">
endmodule</span>
</code></pre>
</body></html></div>
        </main>
      </div>
    </div>
<footer class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-2 mb-md-0 mb-4">
        <span class="pr-md-5 pr-0 py-3">
          <a href="https://runtimeverification.com" target="_blank">
            <picture>
              <source
                srcset="../assets/img/rv-logo-dark.png"
                media="(prefers-color-scheme: dark)"
              />
              <img
                class="pr-3 footer-logo"
                src="../assets/img/rv-logo.png"
                alt="Runtime Verification Inc logo"
              />
            </picture>
          </a>
        </span>
      </div>
      <div class="col-md-6 mb-md-0 mb-4"></div>
      <div class="col-md-4 text-md-right">
        <p class="copyright">
          &copy; 2020 Runtime Verification Inc. All right reserved.
        </p>
      </div>
    </div>
  </div>
</footer>

<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-163311512-1"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-163311512-1");
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../assets/js/index.js"></script>
  </body>
</html>
